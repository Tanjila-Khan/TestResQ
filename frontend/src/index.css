/* Add this at the very top of the file, before any other styles */
:root {
  color-scheme: light dark;
}

/* Prevent flash of incorrect theme */
html {
  visibility: hidden;
}

html.theme-loaded {
  visibility: visible;
}

/* Initial theme styles to prevent flash */
html.light {
  background-color: #ffffff;
  color: #111827;
}

html.dark {
  background-color: #0f172a;
  color: #e2e8f0;
}

html.blue {
  background-color: #f0f7ff;
  color: #1e3a8a;
}

/* Reset all margins and prevent unwanted spacing */
*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  border: 0;
  outline: 0;
}

/* Ensure body takes full height without margins */
html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  width: 100%;
  overflow-x: hidden;
  background-color: inherit;
  color: inherit;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Reset margins and padding */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100%;
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  overflow-x: hidden;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

/* Light Theme (Default) */
html.light {
  --bg-primary: #ffffff;
  --bg-secondary: #f9fafb;
  --text-primary: #111827;
  --text-secondary: #4b5563;
  --border-color: #e5e7eb;
  --card-bg: #ffffff;
  --hover-bg: #f3f4f6;
  --placeholder-color: #9ca3af;
  --shadow-color: rgba(0, 0, 0, 0.1);
}

/* Dark Theme - Ultra eye-comforting colors */
html.dark {
  --bg-primary: #0f172a;  /* Darker, more comfortable background */
  --bg-secondary: #1e293b;  /* Softer secondary background */
  --text-primary: #e2e8f0;  /* Softer white for text */
  --text-secondary: #94a3b8;  /* Muted gray for secondary text */
  --border-color: #334155;  /* Subtle border color */
  --card-bg: #1e293b;  /* Card background matching secondary */
  --hover-bg: #334155;  /* Subtle hover state */
  --placeholder-color: #64748b;  /* Muted placeholder text */
  --shadow-color: rgba(0, 0, 0, 0.15);
}

/* Blue Theme */
html.blue {
  --bg-primary: #f0f7ff;
  --bg-secondary: #e6f3ff;
  --text-primary: #1e3a8a;
  --text-secondary: #3b82f6;
  --border-color: #93c5fd;
  --card-bg: #ffffff;
  --hover-bg: #dbeafe;
  --placeholder-color: #60a5fa;
  --shadow-color: rgba(59, 130, 246, 0.1);
}

/* Apply theme variables */
body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Remove any unwanted margins */
div, p, h1, h2, h3, h4, h5, h6 {
  margin: 0;
  padding: 0;
}

/* Common theme styles */
.bg-white {
  background-color: var(--card-bg) !important;
  transition: background-color 0.2s ease;
}

.bg-gray-50 {
  background-color: var(--bg-secondary) !important;
  transition: background-color 0.2s ease;
}

.text-gray-900 {
  color: var(--text-primary) !important;
  transition: color 0.2s ease;
}

.text-gray-700 {
  color: var(--text-secondary) !important;
  transition: color 0.2s ease;
}

.text-gray-600 {
  color: var(--text-secondary) !important;
  transition: color 0.2s ease;
}

.border-gray-200 {
  border-color: var(--border-color) !important;
  transition: border-color 0.2s ease;
}

/* Input and select styles */
input, select, textarea {
  background-color: var(--card-bg) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
  transition: all 0.2s ease;
  font-size: 0.875rem !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 0.375rem !important;
  width: 100% !important;
  margin: 0 !important;
}

/* Placeholder styles */
::placeholder {
  color: var(--placeholder-color) !important;
  opacity: 0.7 !important;
  font-size: 0.75rem !important;
  transition: color 0.2s ease;
}

/* Button styles */
button {
  background-color: var(--card-bg);
  color: var(--text-primary);
  border-color: var(--border-color);
  transition: all 0.2s ease;
  font-size: 0.875rem !important;
  border-radius: 0.375rem !important;
  margin: 0 !important;
  padding: 0.5rem 0.75rem !important;
}

button:hover {
  background-color: var(--hover-bg);
  transition: background-color 0.2s ease;
}

/* Card styles */
.shadow {
  box-shadow: 0 1px 2px 0 var(--shadow-color) !important;
  transition: box-shadow 0.2s ease;
}

/* Dark theme specific improvements */
.dark input:focus,
.dark select:focus,
.dark textarea:focus {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1) !important;
  outline: none !important;
}

.dark button:focus {
  outline: 2px solid #3b82f6 !important;
  outline-offset: 2px !important;
}

/* Ensure theme persistence */
html {
  color-scheme: light dark;
}

/* Smooth transitions for theme changes */
* {
  transition: background-color 0.2s ease,
              color 0.2s ease,
              border-color 0.2s ease,
              box-shadow 0.2s ease;
}

/* Remove any unwanted spacing in containers */
.container, .container-fluid {
  margin: 0 !important;
  padding: 0 !important;
  max-width: 100% !important;
}

/* Ensure proper spacing in settings component */
.settings-container {
  padding: 1rem !important;
  margin: 0 !important;
  width: 100% !important;
}

/* Remove any unwanted gaps between elements */
.space-y-2 > * + * {
  margin-top: 0.5rem !important;
}

.space-y-4 > * + * {
  margin-top: 1rem !important;
}

/* Ensure proper card spacing */
.card {
  margin: 0 !important;
  padding: 1rem !important;
  border-radius: 0.5rem !important;
  background-color: var(--card-bg) !important;
  border: 1px solid var(--border-color) !important;
}
